{% for product in products %}
    <div class="col-6 col-md-4 product-blocks">
        <!-- PRODUCT IMAGE -->
        <div class="fill center product-image">
            <a href="{{ urls.product ~ product.name|url_encode ~ '/' ~ product.id }}">
                <img src="{{ product.images|length > 0 ? product.images[0].base_64 : '/images/no_image.gif' }}"
                     class="round-border box-shadow" alt="{{ product.name }}">
            </a>
        </div>

        <div class="fill product-information">
            <!-- PRODUCT TITLE -->
            <h3 class="product-title-link">
                <a class="product-link"
                   href="{{ urls.product ~ product.name|url_encode ~ '/' ~ product.id }}">{{ product.name }}</a>
            </h3>

            <!-- PRODUCT STOCK -->
            <div class="fill stock-shipping-status">
                {% if product.stock %}

                    {% if product.stock > 10 %}
                        <div class="badge badge-success">Ruimschoots op voorraad</div>
                    {% else %}
                        <div class="badge badge-success">Op voorraad</div>
                    {% endif %}

                    {% if product.shipping_details.shipping_days %}
                        <div class="badge badge-info">Levertijd {{ product.shipping_details.shipping_days }}
                            werkdag(en)
                        </div>
                    {% else %}
                        <div class="badge badge-info">Levertijd 1-3 werkdag(en)</div>
                    {% endif %}
                {% else %}
                    <div class="badge badge-warning">Niet op voorraad</div>
                {% endif %}
            </div>

            <!-- PRODUCT INFO -->
            <div class="float-left product-details">
                <div class="float-left">
                    <b>SKU</b><span>{{ product.sku }}</span>
                </div>
            </div>

            <!-- PRODUCT DESCRIPTION -->
            <p class="product-description hidden">{{ (product.description ? product.description : product.name ~ ' wordt binnen 24 uur verzonden mits op voorraad. Dat is de service van ' ~ site_name ~ '!')|raw }}</p>
        </div>

        <!-- PRODUCT PRICE -->
        <div class="fill product-price">

            {% if product.price_details %}
                <div class="price-listing">
                    <h3 class="price float-left">
                        &euro;&nbsp;{{ (product.price_details.piece_price.in)|number_format(2, ',', '.') }}
                    </h3>
                    <p class="mb-0 float-left">
                        <small><em>Incl. BTW</em></small>
                    </p>
                </div>

                <div class="order-quantity select-quantity col-8 col-md-12 no-padding hidden">
                    <input class="form-control col-4 col-sm-3 col-md-12 col-lg-6 product-quantity" min="1" max="99" value="1" type="number">

                    <div class="order col-8 offset-sm-1 offset-md-0 col-md-12 no-padding">
                        <a href="{{ urls.shopping_cart_add ~ product.id }}/1" class="btn btn btn-block btn-success order-link box-shadow"
                           data-product-id="{{ product.id }}" data-product-price="{{ (product.price_details.piece_price.in) }}">
                            In winkelwagen <span class="glyphicon glyphicon-shopping-cart"></span>
                        </a>
                    </div>
                </div>
            {% endif %}

        </div>

    </div>

{% else %}
    <div class="alert alert-info">
        Geen producten beschikbaar
    </div>
{% endfor %}

{% block styles %}
    <style type="text/css" rel="stylesheet" media="screen">

        .content .overview .product-blocks {
            padding: 0 0 15px 15px;
        }
        .content .overview .product-blocks .product-image {
            height: 7em;
        }
        .content .overview .product-blocks .product-information {
            height: 7em;
            padding: 10px 0;
        }
        .content .overview .product-blocks .product-information h3 {
            font-size: 18px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #337ab7;
        }
        .content .overview .product-blocks .product-price {
            background: none !important;
            border: 0 !important;
            border-bottom: 1px solid #d5d5d5 !important;
            padding: 5px 0 !important;
        }
        .content .overview .product-blocks .product-price .price-listing {
            border-bottom: 0 !important;
            margin-bottom: 5px;
        }
        .content .overview .product-blocks .product-price .price-listing h3 {
            font-size: 1.35rem;
            font-weight: 600;
            color: #d71515;
        }
        .content .overview .product-blocks .product-price .price-listing p {
            padding: 4px 0 8px 4px;
        }

    </style>
{% endblock %}