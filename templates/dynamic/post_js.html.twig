{% block post_js %}
    <script type="text/javascript">
        var header = document.getElementById("navbar");
        var fixedheader = document.getElementById("fixednavbar");
        var content = document.getElementById("content");
        var sticky = header.offsetTop;

        function stickyHeader() {
            if (window.pageYOffset >= sticky) {
                header.classList.add("hidden");
                fixedheader.classList.remove("hidden");
                content.classList.add("content");
            } else {
                header.classList.remove("hidden");
                fixedheader.classList.add("hidden");
                content.classList.remove("content");
            }
        }

        // Get height of footer
        $(document).ready(function() {
            $footerHeight = $("#footer").outerHeight();
            $containerWidth = $("#container").width();

            $('#body').css('margin-bottom', -$footerHeight);
            $('#fixednavbar').css('width', $containerWidth);
        });

        $(".product-amount").on('change', function () {

            var currentValue = $(this).val();
            $(this).val(currentValue);
        });

        $productInfo = $('.product-left-column').outerHeight();

        $(".show-more").on('click', function () {
            $(".product-info").css('height', $productInfo + 40);
            $(this).addClass('hidden');
            $('.show-less').removeClass('hidden');
        });

        $(".show-less").on('click', function () {
            $(".product-info").css('height', '300px');
            $(this).addClass('hidden');
            $('.show-more').removeClass('hidden');
        });

        $('.order-link').on('click', function (event) {
            event.preventDefault();

            $header = $(".colorgraph");
            $cart = $("#cart");
            $cartIcon = $('.glyphicon-shopping-cart');

            var product_id = this.id;
            var quantity = 1;

            console.log(product_id);
            console.log('test');

            $('html, body').animate({
                'scrollTop': $header.position().top
            });

            $(this).effect(
                "transfer", {
                    to: $cartIcon
                },
                1000
            );

            $('.product-buy-amount').each(function () {
                var isHidden = $(this).hasClass('hidden');

                if (!isHidden) {
                    quantity = $(this).find('.product-amount').val();
                }
            });

            $.ajax({
                url: '{{ lang.url.shopping_cart_add }}' + product_id + '/' + quantity,
                type: "POST", //send it through get method
                success: function (data) {
                    $cart.load(location.href + " #cart>*", "");
                }
            });
        });
    </script>
{% endblock %}